(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{12:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n),a=i(4),h=i.n(a),r=i(1),o=i(5),u=i(6),l=(i(3),["\ud83c\udf3b","1\ufe0f\u20e3","2\ufe0f\u20e3","3\ufe0f\u20e3","4\ufe0f\u20e3","5\ufe0f\u20e3","6\ufe0f\u20e3","7\ufe0f\u20e3","8\ufe0f\u20e3"]);function d(t,e,i){return t.some((function(t){return t[0]===e&&t[1]===i}))}var c=function(){function t(e,i,n){Object(o.a)(this,t),this.width=e,this.height=i,this.mineCount=n,this.revealedCount=0,this.minesRemaining=n,this.status=s.a.createElement("div",{id:"status"},"\ud83d\udea9"," ",this.minesRemaining),this.gameOver=!1,this.board=[];for(var a=0;a<i;a++){for(var h=[],r=0;r<e;r++)h.push("\ud83c\udf3f");this.board.push(h)}this.generateMines(),this.createButtons()}return Object(u.a)(t,[{key:"createButtons",value:function(){this.buttons=[];for(var t=0;t<this.height;t++){for(var e=[],i=0;i<this.width;i++){var n=t+this.width*i;e.push(s.a.createElement("div",{key:n},s.a.createElement("button",{className:"Button",id:n,onClick:this.updateButtons.bind(this,i,t),onContextMenu:this.handleContextMenu.bind(this,i,t)},this.board[t][i])))}this.buttons.push(s.a.createElement("div",{className:"Row",key:e[t].key},e))}}},{key:"updateButtons",value:function(t,e){this.reveal(t,e);for(var i=0;i<this.height;i++)for(var n=0;n<this.width;n++){var s=i+this.width*n;document.getElementById(s).textContent=this.board[i][n]}}},{key:"handleContextMenu",value:function(t,e){this.flag(t,e);var i=e+this.width*t;document.getElementById(i).textContent=this.board[e][t],document.getElementById("status").textContent="\ud83d\udea9"+this.minesRemaining}},{key:"generateMines",value:function(){for(this.mines=[];this.mines.length!==this.mineCount;){var t=Math.floor(Math.random()*this.width),e=Math.floor(Math.random()*this.height);d(this.mines,t,e)||this.mines.push([t,e])}}},{key:"flag",value:function(t,e){!this.gameOver&&0<=t&&t<this.width&&0<=e&&e<this.height&&("\ud83c\udf3f"===this.board[e][t]&&this.minesRemaining>0?(this.board[e][t]="\ud83d\udea9",this.minesRemaining--):"\ud83d\udea9"===this.board[e][t]&&(this.board[e][t]="\ud83c\udf3f",this.minesRemaining++))}},{key:"neighbours",value:function(t,e){for(var i=[],n=-1;n<=1;n++)for(var s=-1;s<=1;s++)0<=t+s&&t+s<this.width&&0<=e+n&&e+n<this.height&&!d(i,t+s,e+n)&&i.push([t+s,e+n]);return i}},{key:"countMines",value:function(t,e){var i,n=0,s=Object(r.a)(this.neighbours(t,e));try{for(s.s();!(i=s.n()).done;){var a=i.value;d(this.mines,a[0],a[1])&&n++}}catch(h){s.e(h)}finally{s.f()}return n}},{key:"reveal",value:function(t,e){if(!this.gameOver&&0<=t&&t<this.width&&0<=e&&e<this.height&&"\ud83c\udf3f"===this.board[e][t])if(d(this.mines,t,e)){this.gameOver=!0;var i,n=Object(r.a)(this.mines);try{for(n.s();!(i=n.n()).done;){var s=i.value;"\ud83d\udea9"!==this.board[s[1]][s[0]]&&(this.board[s[1]][s[0]]="\ud83d\udca5")}}catch(v){n.e(v)}finally{n.f()}this.board[e][t]="\ud83d\ude35",alert("Game Over")}else{if(this.board[e][t]=l[this.countMines(t,e)],this.revealedCount++,this.board[e][t]===l[0]){var a,h=Object(r.a)(this.neighbours(t,e));try{for(h.s();!(a=h.n()).done;){var o=a.value;this.reveal(o[0],o[1])}}catch(v){h.e(v)}finally{h.f()}}if(this.win()){var u,c=Object(r.a)(this.mines);try{for(c.s();!(u=c.n()).done;){var m=u.value;this.board[m[1]][m[0]]="\ud83d\udea9"}}catch(v){c.e(v)}finally{c.f()}alert("You win!")}}}},{key:"win",value:function(){return this.revealedCount===this.width*this.height-this.mineCount}}]),t}();function m(){var t=new c(20,10,30);return s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,"Minesweeper"),s.a.createElement("div",null,t.buttons),s.a.createElement("h4",null,t.status))}var v=document.getElementById("root");h.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(m,null)),v)},3:function(t,e,i){},7:function(t,e,i){t.exports=i(12)}},[[7,1,2]]]);
//# sourceMappingURL=main.21a4f890.chunk.js.map